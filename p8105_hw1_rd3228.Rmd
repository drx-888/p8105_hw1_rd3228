---
title: "p8105_hw1_rd3228"
author: "Renxuan Deng"
date: "2025-09-20"
output: github_document
---

# Problem 1  
```{r}  
# Load necessary libraries
library(moderndive)
library(ggplot2)
library(dplyr)

# Load the dataset
data("early_january_weather")
print(early_january_weather)
```  
The early_january_weather dataset contains **`r nrow(early_january_weather)`** observations across **`r ncol(early_january_weather)`** variables, capturing hourly meteorological measurements from the first half of January 2013. Key variables include:
origin: Weather station. Named origin to facilitate merging with nycflights13::flights data.

year, month, day, hour: Time of recording.

temp: Temperature in F, with a mean value of **`r round(mean(early_january_weather$temp, na.rm = TRUE), 1)`**

dewp: Dewpoint in F.

humid: Relative humidity percentage, ranging from **`r round(min(early_january_weather$humid, na.rm = TRUE), 0)`** to **`r round(max(early_january_weather$humid, na.rm = TRUE), 0)`**

wind_dir, wind_speed, wind_gust: Wind direction (in degrees), speed and gust speed (in mph).

precip: Precipitation, in inches.

pressure: Sea level pressure in millibars.

visib: Visibility in miles.

time_hour: Date and hour of the recording as a POSIXct date.

```{r}
# Create scatterplot
scatter_plot <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  labs(
    title = "Temperature vs. Time in Early January",
    x = "Hour",
    y = "Temperature (F)",
    color = "Humidity"
  ) +
  theme_minimal()

# Display the plot
print(scatter_plot)

# Export the plot
ggsave("temp_vs_time_scatterplot.png", plot = scatter_plot, width = 8, height = 5)
```  

# Problem 2  

```{r}
# Set seed for reproducibility
set.seed(1234)

# Create the data frame
problem_df <- tibble(
  norm_samp = rnorm(10, mean = 0, sd = 1),
  log_vec = norm_samp > 0,
  char_vec = c("a", "b", "c", "d", "e", "f", "g", "h", "i", "j"),
  factor_vec = factor(rep(c("low", "medium", "high"), length.out = 10), levels = c("low", "medium", "high"))
)

# Attempt to take the mean of each variable
mean_norm <- mean(pull(problem_df, norm_samp))
# mean_log <- mean(pull(problem_df, log_vec)) # This would work and return a number (proportion of TRUE)
# mean_char <- mean(pull(problem_df, char_vec)) # This would fail
# mean_factor <- mean(pull(problem_df, factor_vec)) # This would fail

# Show the means that work
cat("Mean of normal sample:", mean_norm, "\n")
cat("Mean of logical vector:", mean(pull(problem_df, log_vec)), "\n")
# The means for char_vec and factor_vec cannot be computed directly.
```
```{r eval=FALSE}
# Apply as.numeric to non-numeric variables
# Logical vector conversion
log_to_num <- as.numeric(pull(problem_df, log_vec))
# Character vector conversion
char_to_num <- as.numeric(pull(problem_df, char_vec)) 
# Factor vector conversion
factor_to_num <- as.numeric(pull(problem_df, factor_vec))
```  

Logical Vector (log_vec)

What happens: It successfully converts to a numeric vector containing 1s and 0s.

Why: R internally represents TRUE as 1 and FALSE as 0. as.numeric() simply reveals this underlying numeric representation.

Character Vector (char_vec)

What happens: It converts to a vector of NA (missing values), and you will receive a warning message: "NAs introduced by coercion".

Why: The character strings like "a", "b", etc., have no intrinsic numerical meaning. R cannot guess what number you want to assign to the letter "a", so it fails and represents the result as NA.

Factor Vector (factor_vec)

What happens: It converts to a numeric vector containing integers.

Why: Factors are stored internally as integers (called level codes) that map to the text labels ("levels"). as.numeric() strips away the text labels and returns only these underlying integer codes.

In summary: The action of as.numeric() shows me the raw material that the mean() function has to work with. If that raw material can be interpreted as numbers, the mean can be calculated. If it cannot, for example, characters, or if it would produce a misleading result, the mean() function fails or warns the user.